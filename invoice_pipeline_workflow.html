<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Agentic Workflow: Invoice Processing Pipeline </title>
  <style>
    /* Base styling */
    body {
      font-family: 'Arial', sans-serif; /* Fallback for 'Soehne' */
      line-height: 1.8;
      margin: 0;
      background-color: #FAFAFA;
      color: #393939;
      padding: 2rem;
    }
    /* Centered container for improved readability */
    .container {
      max-width: 1000px;
      margin: 0 auto;
      text-align: left;
      padding: 0 1rem;
    }
    /* Centered header and footer */
    header, footer {
      text-align: center;
    }
    /* Custom text selection style: black background with white text */
    ::selection {
      background-color: #000;
      color: #fff;
    }
    /* Section spacing and typography */
    section {
      margin-bottom: 3rem;
    }
    h1.lstw-f-display-1 {
      font-family: 'Times New Roman', serif; /* Fallback for 'Signifier' */
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    h2.lstw-f-heading-1 {
      font-family: 'Times New Roman', serif; /* Fallback for 'Signifier' */
      font-size: 2rem;
      margin-bottom: 1rem;
      border-bottom: 2px solid #E5E5E5;
      padding-bottom: 0.5rem;
    }
    h3.lstw-f-heading-2 {
      font-family: 'Arial', sans-serif; /* Fallback for 'Soehne' */
      font-size: 1.5rem;
      margin-top: 2rem;
      margin-bottom: 0.5rem;
    }
    p.lstw-f-body-1, li.lstw-f-body-1 {
      font-size: 1rem;
      margin-bottom: 1rem;
    }
    ul {
      list-style: disc;
      margin-left: 2rem;
      margin-bottom: 1rem;
    }
    a {
      color: #3C46FF;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    /* Flowchart styling */
    .flowchart {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2rem;
      margin: 2rem 0;
    }
    .flow-step {
      background-color: #fff;
      border: 1px solid #E5E5E5;
      padding: 1.5rem;
      border-radius: 8px;
      width: 90%;
      max-width: 500px;
      text-align: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }
    .flow-step:hover {
      transform: scale(1.05);
    }
    .flow-arrow {
      font-size: 2rem;
      color: #393939;
    }
    .model-info {
      font-style: italic;
      color: #666;
      font-size: 0.9rem;
      margin-top: 0.5rem;
    }
    /* Code block styling */
    pre {
      background-color: #f4f4f4;
      padding: 1rem;
      border-radius: 5px;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      white-space: pre-wrap;
    }
    /* Animation enhancements (inline fallback) */
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .fade-up {
      animation: fadeUp 0.8s ease-out forwards;
    }
    .delayed-100 { animation-delay: 0.1s; }
    .delayed-200 { animation-delay: 0.2s; }
    .delayed-300 { animation-delay: 0.3s; }
    .delayed-400 { animation-delay: 0.4s; }
    .delayed-500 { animation-delay: 0.5s; }
    .delayed-600 { animation-delay: 0.6s; }
  </style>
</head>
<body>
  <div class="container">
    <header class="fade-up delayed-100">
      <h1 class="lstw-f-display-1">AI Agentic Workflow: Invoice Processing Pipeline<br>- by Krishna mari prasad & Powered LLaMA 3.2</h1>
    </header>

    <main>
      <section id="scope" class="fade-up delayed-200">
        <h2 class="lstw-f-heading-1">Project Scope</h2>
        <p class="lstw-f-body-1">
          This project focuses on developing an agentic workflow for processing invoices, leveraging the LLaMA 3.2 model via Ollama for all processing steps. The pipeline aims to automate invoice analysis by extracting key information, classifying client tiers, analyzing profitability, and generating summaries, thereby enhancing efficiency and accuracy in financial workflows. Designed for scalability, it supports integration with enterprise systems, ensuring seamless data handling and compliance with regulatory standards such as GDPR and SOC 2. The workflow is a proof-of-concept for advanced automation, demonstrating how multiple language models can be orchestrated to form a cohesive data processing pipeline.
        </p>
      </section>

      <section id="flowchart" class="fade-up delayed-300">
        <h2 class="lstw-f-heading-1">Detailed Agentic Workflow Flowchart</h2>
        <div class="flowchart">
          <div class="flow-step fade-up delayed-100">
            <h3 class="lstw-f-heading-2">Step 1: Classify Client Tier</h3>
            <p class="lstw-f-body-1">
              Extracts the total amount due from the invoice and classifies the client tier based on predefined ranges: Bronze (0-500), Silver (500-2000), Gold (2000+). For example, a total of $4200.00 is classified as Gold.
            </p>
            <p class="model-info">Model Used: LLaMA 3.2 via Ollama</p>
          </div>
          <div class="flow-arrow">↓</div>
          <div class="flow-step fade-up delayed-200">
            <h3 class="lstw-f-heading-2">Step 2: Extract Entities</h3>
            <p class="lstw-f-body-1">
              Identifies and extracts key entities such as the client name (e.g., ACME Corporation), services provided (e.g., Web Development, Cloud Hosting), and payment terms (e.g., due within 30 days) from the markdown-formatted invoice.
            </p>
            <p class="model-info">Model Used: LLaMA 3.2 via Ollama</p>
          </div>
          <div class="flow-arrow">↓</div>
          <div class="flow-step fade-up delayed-300">
            <h3 class="lstw-f-heading-2">Step 3: Validate Total Amount</h3>
            <p class="lstw-f-body-1">
              Validates the total amount extracted in Step 1, ensuring accuracy and consistency across the pipeline (e.g., confirms $4200.00 as the total due).
            </p>
            <p class="model-info">Model Used: LLaMA 3.2 via Ollama</p>
          </div>
          <div class="flow-arrow">↓</div>
          <div class="flow-step fade-up delayed-400">
            <h3 class="lstw-f-heading-2">Step 4: Analyze Profitability</h3>
            <p class="lstw-f-body-1">
              Calculates the profit (total amount minus cost) and margin (profit / total amount * 100), rounding to two decimal places. For a total of $4200.00 and cost of $500.00, profit is $3700.00, and margin is 87.83%.
            </p>
            <p class="model-info">Model Used: LLaMA 3.2 via Ollama</p>
          </div>
          <div class="flow-arrow">↓</div>
          <div class="flow-step fade-up delayed-500">
            <h3 class="lstw-f-heading-2">Step 5: Summarize Invoice</h3>
            <p class="lstw-f-body-1">
              Generates a concise summary of the invoice details, combining all extracted and computed data into a human-readable format (e.g., "Invoice for ACME Corporation (Gold tier) for Web Development and Cloud Hosting, totaling $4200.00 with a profit of $3700.00 and 87.83% margin, due within 30 days.").
            </p>
            <p class="model-info">Model Used: LLaMA 3.2 via Ollama</p>
          </div>
        </div>
      </section>

      <section id="features" class="fade-up delayed-400">
        <h2 class="lstw-f-heading-1">Project Features Summary</h2>
        <p class="lstw-f-body-1">
          This agentic workflow demonstrates the power of LLaMA 3.2 in automating invoice processing, orchestrating multiple models to form a seamless data processing pipeline. It transforms raw markdown-formatted invoices into structured insights, enabling efficient financial analysis and reporting.
        </p>
        <ul class="lstw-f-body-1">
          <li><strong>Agentic Workflow:</strong> Utilizes LLaMA 3.2 across all steps, showcasing model orchestration for a unified pipeline.</li>
          <li><strong>Automated Tier Classification:</strong> Assigns client tiers (Bronze, Silver, Gold) based on invoice totals, enhancing client segmentation.</li>
          <li><strong>Entity Extraction:</strong> Extracts critical invoice details (client, services, payment terms) with high accuracy.</li>
          <li><strong>Profitability Analysis:</strong> Computes profit and margin, providing actionable financial insights.</li>
          <li><strong>Custom Summarization:</strong> Produces concise summaries for quick decision-making.</li>
          <li><strong>Scalable and Secure:</strong> Designed for enterprise integration with compliance to GDPR and SOC 2 standards.</li>
          <li><strong>Debugging Support:</strong> Includes detailed logging of LLM responses for transparency and optimization.</li>
        </ul>
      </section>

      <section id="output" class="fade-up delayed-500">
        <h2 class="lstw-f-heading-1">Sample Output and Debug Logs</h2>
        <pre>
# Invoice ***************{TEXT INPUT}************

**Client:** ACME Corporation  
**Date:** October 10, 2024  
**Invoice Number:** INV-2024-1001  

---

## Services Provided
- **Web Development**: 40 hours @ $100/hour  
- **Cloud Hosting**: 1 year @ $200  

---

## Total Amount Due
**Total:** $4,200.00  

---

## Payment Terms
Payment is due within 30 days of the invoice date.  

**Bank Details:**  
- Bank: XYZ Bank  
- Account Number: 123456789  

Thank you for your business!

************[AI OUTPUT]*****************

'''LLM raw response for tier classification: {"tier": "Gold", "total_amount": 4200.0}
LLM raw response for entities: {"client": "ACME Corporation", "services": ["Web Development", "Cloud Hosting"], "payment_terms": "Payment is due within 30 days"}
LLM raw response for profitability: {"profit": 3700.0, "margin": 87.83}
LLM raw summary response: Here is a concise summary of the invoice details in plain text:

Invoice for ACME Corporation (Gold tier) for Web Development and Cloud Hosting, totaling $4200.00 with a profit of $3700.00 and 87.83% margin, due within 30 days.

Note: I corrected the margin percentage to 87.83% as per the original details, not 87.94%.
Extracted Information:
{
  "invoice_text": "\n# Invoice\n\n**Client:** ACME Corporation\n**Date:** October 10, 2024\n**Invoice Number:** INV-2024-1001\n\n---\n\n## Services Provided\n- **Web Development**: 40 hours @ $100/hour\n- **Cloud Hosting**: 1 year @ $200\n\n---\n\n## Total Amount Due\n**Total:** $4,200.00\n\n---\n\n## Payment Terms\nPayment is due within 30 days of the invoice date.\n\n**Bank Details:**\n- Bank: XYZ Bank\n- Account Number: 123456789\n\nThank you for your business!\n",
  "cost": 500.0,
  "client_tier": "Gold",
  "entities": {
    "client": "ACME Corporation",
    "services": [
      "Web Development",
      "Cloud Hosting"
    ],
    "payment_terms": "Payment is due within 30 days"
  },
  "total_amount": 4200.0,
  "profitability": {
    "profit": 3700.0,
    "margin": 87.83
  },
  "summary": "Here is a concise summary of the invoice details in plain text:\n\nInvoice for ACME Corporation (Gold tier) for Web Development and Cloud Hosting, totaling $4200.00 with a profit of $3700.00 and 87.83% margin, due within 30 days.\n\nNote: I corrected the margin percentage to 87.83% as per the original details, not 87.94%."
}'''
        </pre>
      </section>
    </main>

    <footer class="fade-up delayed-600">
      <p class="lstw-f-body-1">© 2025 Invoice Processing Project. Created by Krishna mari prasad, All rights reserved.</p>
    </footer>
  </div>

  <script>
    // Fallback animation
    document.addEventListener('DOMContentLoaded', () => {
      const elements = document.querySelectorAll('.fade-up');
      elements.forEach((el, index) => {
        const delayClass = el.className.match(/delayed-\d+/)[0];
        const delay = parseInt(delayClass.split('-')[1]) * 100;
        setTimeout(() => {
          el.style.opacity = '1';
          el.style.transform = 'translateY(0)';
        }, delay);
      });
    });
  </script>
</body>
</html>